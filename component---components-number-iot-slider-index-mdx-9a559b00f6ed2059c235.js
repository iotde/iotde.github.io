(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"0BNZ":function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return b})),n.d(t,"default",(function(){return O}));var r=n("Fcif"),i=n("+I+c"),a=(n("mXGw"),n("/FXl")),c=n("TjRS"),o=n("yvaY"),l=n("rlaH"),s=n("aD51"),u={type:"number",streamId:"Word",title:"温度",icon:{show:!0,value:"insideicon-cu-1"},min:"1",max:"50",step:"1",unit:"°C",disabled:!1,unitdesc:"摄氏度",curValue:"1",startHandler:function(e){},endHandler:function(){}},d=function(){return Object(s.c)(l.a,u)},b={};void 0!==b&&b&&b===Object(b)&&Object.isExtensible(b)&&!b.hasOwnProperty("__filemeta")&&Object.defineProperty(b,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"components/number/IOTSlider/index.mdx"}});var m={_frontmatter:b},f=c.a;function O(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(a.b)(f,Object(r.a)({},m,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"数值型slider"},"数值型slider"),Object(a.b)("p",null,"控制区间值。"),Object(a.b)("h2",{id:"代码演示"},"代码演示"),Object(a.b)("h3",{id:"基本用法"},"基本用法"),Object(a.b)(o.a,{code:"import React from 'react';\nimport IOTSlider from '../IOTSlider';\nimport { IOTSliderProps } from '../interface';\n\nconst props: IOTSliderProps = {\n  type: 'number',\n  streamId: 'Word',\n  title: '温度',\n  icon: {\n    show: true,\n    value: 'insideicon-cu-1',\n  },\n  min: '1',\n  max: '50',\n  step: '1',\n  unit: '°C',\n  disabled: false,\n  unitdesc: '摄氏度',\n  curValue: '1',\n  startHandler: (val: any) => { },\n  endHandler: () => { }\n};\nexport default () => <IOTSlider {...props} />;",title:"基本用法",desc:"使用kind控制Alert类型",mdxType:"CodeBox"},Object(a.b)(d,{mdxType:"BasicDemo"})))}void 0!==O&&O&&O===Object(O)&&Object.isExtensible(O)&&!O.hasOwnProperty("__filemeta")&&Object.defineProperty(O,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"components/number/IOTSlider/index.mdx"}}),O.isMDXComponent=!0},"1JkM":function(e,t,n){"use strict";var r,i,a,c,o,l,s=n("mXGw"),u=function(e){var t=e.start,n=e.processHanlder,u=e.onchange,d=e.currentVal,b=e.refProgess,m=Object(s.useCallback)((function(e){var n=b.current;r=parseFloat(n.getBoundingClientRect().width),i=parseFloat(n.getBoundingClientRect().left);var s=e.changedTouches[0];a=s.pageX,c=s.pageY,o=!0,l=!1,t()}),[t]),f=Object(s.useCallback)((function(e){var t=e.changedTouches[0],s=t.pageX,u=t.pageY,d=Math.abs(s-a),b=Math.abs(u-c);o&&(.8*d>b&&(l=!0),o=!1),l&&n((s-i)/r*100)}),[n]),O=Object(s.useCallback)((function(){l&&u(d)}),[d,u]);return{onTouchStart:function(e){return m(e)},onTouchMove:function(e){return f(e)},onTouchEnd:function(){return O()},onTouchCancel:function(){return O()}}};t.a=u,void 0!==u&&u&&u===Object(u)&&Object.isExtensible(u)&&!u.hasOwnProperty("__filemeta")&&Object.defineProperty(u,"__filemeta",{configurable:!0,value:{name:"SliderControl",filename:"components/number/SliderControl.tsx"}})},rlaH:function(e,t,n){"use strict";var r=n("Fcif"),i=n("+I+c"),a=n("mXGw"),c=n("xbbq"),o=n("z5HR"),l=(n("xzWw"),n("dLvd")),s=n("aD51"),u=function(e){var t=e.streamId,n=e.title,u=(e.subTitle,e.streamName,e.type),d=e.icon,b=e.min,m=e.max,f=e.step,O=e.unit,p=e.disabled,v=void 0!==p&&p,j=(e.unitdesc,e.curValue),h=e.startHandler,g=void 0===h?function(e){}:h,y=e.endHandler,N=void 0===y?function(e){}:y,x=Object(i.a)(e,["streamId","title","subTitle","streamName","type","icon","min","max","step","unit","disabled","unitdesc","curValue","startHandler","endHandler"]),S=Object(a.useState)(j),w=S[0],_=S[1];return Object(a.useEffect)((function(){_(Object(l.c)(u,j))}),[j,u]),Object(s.c)("div",Object(r.a)({className:"iot-slider-out"},x),Object(s.c)("div",{className:"iot-slider"},Object(s.c)("div",{className:"iot-slider-top"},Object(s.c)("div",{className:"iot-slider-left"},(null==d?void 0:d.show)&&Object(s.c)("div",{className:"iot-slider-icon"},Object(s.c)("span",{className:["iot-slider-icon-image",null!=d&&d.value?d.value:"insideicon-cu-1"].join(" ")})),Object(s.c)("div",{className:"iot-slider-title",style:{marginLeft:null!=d&&d.show?"0":".2rem"}},Object(s.c)("div",{className:"iot-slider-main"},n)),Object(s.c)("div",{className:"line"}),Object(s.c)("div",{className:"value-unit"},w,O))),Object(s.c)("div",{className:"iot-slider-number"},Object(s.c)(c.a,{min:Number.parseFloat(b),max:Number.parseFloat(m),step:Number.parseFloat(f),isStep:1===Number.parseFloat(f)&&Math.round((Number.parseFloat(m)-Number.parseFloat(b))/Number.parseFloat(f))>50,showHandleBtn:!1,curValue:""+w,dotsData:Object(o.a)(b,m,f),disabled:!1,onchange:function(e){N({streamId:t,value:e}),_(e)},move:function(e){_(e)},start:function(){g("start")}})),Object(s.c)("div",{className:"disabled-pangle",style:{display:v?"block":"none"}})))};t.a=u,void 0!==u&&u&&u===Object(u)&&Object.isExtensible(u)&&!u.hasOwnProperty("__filemeta")&&Object.defineProperty(u,"__filemeta",{configurable:!0,value:{name:"IOTSlider",filename:"components/number/IOTSlider/IOTSlider.tsx"}})},sjxt:function(e,t,n){},xbbq:function(e,t,n){"use strict";var r=n("Fcif"),i=n("mXGw"),a=n("z5HR"),c=n("1JkM"),o=(n("sjxt"),n("aD51"));function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){var t=e.leftIcon,n=void 0===t?"insideicon-reduce":t,s=e.rightIcon,u=void 0===s?"insideicon-plus":s,d=e.barStyle,b=void 0===d?"line":d,m=e.curValue,f=e.min,O=e.max,p=e.disabled,v=e.onchange,j=e.dotsData,h=e.step,g=e.start,y=e.move,N=e.isStep,x=void 0===N||N,S=e.showHandleBtn,w=void 0===S||S,_=Object(i.useState)(""),P=_[0],I=_[1],T=Object(i.useState)(0),F=T[0],C=T[1],H=Object(i.useRef)(null);Object(i.useEffect)((function(){if(void 0!==m&&"string"==typeof m){if(Number.parseFloat(m)<f)return C(f),void I("0%");if(Number.parseFloat(m)>O)return C(O),void I("100%");var e=(Number.parseFloat(m)-f)*(100/(O-f));I(e+"%")}}),[m,f,O,b]);var E=Object(i.useCallback)((function(e){var t=0;if(x){if(e<=0)e=0,t=f;else if(e>=100)e=100,t=O;else{var n=(O-f)*e/100+f;t=Number.parseInt(n.toString())}}else{var r,i=100/(j.length-1),c=Math.round(e/i)+1;c<1&&(c=1),c>j.length&&(c=j.length),e=null===(r=Object(a.b)(j)[c-1])||void 0===r?void 0:r.left,t=j[c-1].text}y(t),C(t),I(e+"%")}),[j,x,O,f,y]);Object(i.useEffect)((function(){if(!x){if(!(m===F))if(x){if(m<f)return void C(f);if(m>O)return void C(O);I(JSON.stringify(100/(O-f)*(m-f)))}else{for(var e,t,n=0,r=l(j.entries());!(t=r()).done;){var i=t.value,c=i[0],o=i[1];m===JSON.stringify(o.text)&&(n=c)}I((null===(e=Object(a.b)(j)[n])||void 0===e?void 0:e.left)+"%")}}}),[m,f,O,b,x,F,j]);var k=Object(c.a)({start:function(){g()},processHanlder:function(e){E(e)},onchange:function(e){v(e)},currentVal:F,refProgess:H});return Object(o.c)("div",{className:"Slider"},w?Object(o.c)("div",{className:"icon icon-left "+n+" "+(Number.parseFloat(f+"")===Number.parseFloat(m+"")?"icon-disabled":""),onClick:function(){if(!p){var e=0;if(x)e=10*Number(m)-10*h;else{var t=j[j.length-1].text-j[j.length-2].text,n=0!==t?t:h;e=10*Number(m)-10*(Number(m)===j[j.length-1].text?n:h)}v(e/10<f?f:e/10)}}}):Object(o.c)("div",{className:"icon icon-number-left "},f),Object(o.c)("div",{className:"slider-bar"},Object(o.c)("div",{className:"slider-bar-inner",ref:H},Object(o.c)("div",{className:"progress",style:{width:P}},Object(o.c)("div",Object(r.a)({className:"ball"},k))),w&&Object(o.c)("div",{className:"min-max"},Object(o.c)("div",{className:"min"},f),Object(o.c)("div",{className:"max"},O)))),w?Object(o.c)("div",{className:"icon icon-right "+u+"  "+(Number.parseFloat(O+"")===Number.parseFloat(m+"")?"icon-disabled":""),onClick:function(){if(!p){var e=10*Number(m)+10*h;v(e/10>O?O:e/10)}}}):Object(o.c)("div",{className:"icon icon-number-right"},O),p&&Object(o.c)("div",{className:"disabled"}))};t.a=u,void 0!==u&&u&&u===Object(u)&&Object.isExtensible(u)&&!u.hasOwnProperty("__filemeta")&&Object.defineProperty(u,"__filemeta",{configurable:!0,value:{name:"Slider",filename:"components/number/IOTSlider/Slider/Slider.tsx"}})},xzWw:function(e,t,n){},z5HR:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var r=n("mK0O");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e,t,n){for(var r,i=Number.parseFloat(e),a=Number.parseFloat(t),c=Number.parseFloat(n),o=[],l=a-((r=Math.round((a-i)/c))*c+i),s=0;s<(l<0?r:r+1);s++)o.push({value:s+1,text:(10*c*s+10*i)/10});return 0!==l&&o.push({value:o.length+1,text:a}),o};void 0!==c&&c&&c===Object(c)&&Object.isExtensible(c)&&!c.hasOwnProperty("__filemeta")&&Object.defineProperty(c,"__filemeta",{configurable:!0,value:{name:"dataSource",filename:"components/number/sliderConfig.tsx"}});var o=function(e){var t=[],n=e.length;if(n>0)for(var r=100/(n-1),i=0;i<n;i+=1){var c={icon:""};if(!!e[i].icon&&(c=a(a({},c),{},{icon:e[i].icon})),i===n-1)c=a(a({},c),{},{left:100});else{var o=r*i;c=a(a({},c),{},{left:o})}c=a(a({},c),{},{text:e[i].text,value:e[i].value}),t.push(c)}return t};void 0!==o&&o&&o===Object(o)&&Object.isExtensible(o)&&!o.hasOwnProperty("__filemeta")&&Object.defineProperty(o,"__filemeta",{configurable:!0,value:{name:"dotInfoList",filename:"components/number/sliderConfig.tsx"}})}}]);
//# sourceMappingURL=component---components-number-iot-slider-index-mdx-9a559b00f6ed2059c235.js.map