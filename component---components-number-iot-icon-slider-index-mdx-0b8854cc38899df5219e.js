(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"1JkM":function(e,t,n){"use strict";var r,i,a,c,o,l,s=n("mXGw"),u=function(e){var t=e.start,n=e.processHanlder,u=e.onchange,d=e.currentVal,b=e.refProgess,m=Object(s.useCallback)((function(e){var n=b.current;r=parseFloat(n.getBoundingClientRect().width),i=parseFloat(n.getBoundingClientRect().left);var s=e.changedTouches[0];a=s.pageX,c=s.pageY,o=!0,l=!1,t()}),[t]),f=Object(s.useCallback)((function(e){var t=e.changedTouches[0],s=t.pageX,u=t.pageY,d=Math.abs(s-a),b=Math.abs(u-c);o&&(.8*d>b&&(l=!0),o=!1),l&&n((s-i)/r*100)}),[n]),v=Object(s.useCallback)((function(){l&&u(d)}),[d,u]);return{onTouchStart:function(e){return m(e)},onTouchMove:function(e){return f(e)},onTouchEnd:function(){return v()},onTouchCancel:function(){return v()}}};t.a=u,void 0!==u&&u&&u===Object(u)&&Object.isExtensible(u)&&!u.hasOwnProperty("__filemeta")&&Object.defineProperty(u,"__filemeta",{configurable:!0,value:{name:"SliderControl",filename:"components/number/SliderControl.tsx"}})},"g/3L":function(e,t,n){"use strict";var r=n("Fcif"),i=n("+I+c"),a=n("mXGw"),c=(n("r+c8"),n("xbbq")),o=n("dLvd"),l=n("z5HR"),s=n("aD51"),u=function(e){var t=e.streamId,n=e.title,u=(e.streamName,e.subTitle,e.type),d=e.icon,b=e.min,m=e.max,f=e.step,v=e.unit,O=e.disabled,p=void 0!==O&&O,j=(e.unitdesc,e.curValue),h=(e.leftIcon,e.rightIcon,e.startHandler),g=void 0===h?function(e){}:h,y=e.endHandler,N=void 0===y?function(e){}:y,x=Object(i.a)(e,["streamId","title","streamName","subTitle","type","icon","min","max","step","unit","disabled","unitdesc","curValue","leftIcon","rightIcon","startHandler","endHandler"]),I=Object(a.useState)(j),S=I[0],w=I[1];return Object(a.useEffect)((function(){w(Object(o.c)(u,j))}),[j]),Object(s.c)("div",Object(r.a)({className:"iot-icon-slider-out"},x),Object(s.c)("div",{className:"iot-icon-slider"},Object(s.c)("div",{className:"iot-icon-slider-top"},Object(s.c)("div",{className:"iot-icon-slider-left"},(null==d?void 0:d.show)&&Object(s.c)("div",{className:"iot-icon-slider-icon"},Object(s.c)("span",{className:["iot-icon-slider-icon-image",null!=d&&d.value?d.value:"insideicon-cu-1"].join(" ")})),Object(s.c)("div",{className:"iot-icon-slider-title",style:{marginLeft:null!=d&&d.show?"0":".2rem"}},Object(s.c)("div",{className:"iot-icon-slider-main"},n)),Object(s.c)("div",{className:"line"}),Object(s.c)("div",{className:"value-unit"},S,v))),Object(s.c)("div",{className:"iot-icon-slider-number"},Object(s.c)(c.a,{min:Number.parseFloat(b),max:Number.parseFloat(m),step:Number.parseFloat(f),showHandleBtn:!0,curValue:S+"",disabled:!1,isStep:1===Number.parseFloat(f)&&Math.round((Number.parseFloat(m)-Number.parseFloat(b))/Number.parseFloat(f))>50,dotsData:Object(l.a)(b,m,f),onchange:function(e){var n={streamId:t,value:e};w(e),N(n)},move:function(e){w(e)},start:function(){g("start")}})),Object(s.c)("div",{className:"disabled-pangle",style:{display:p?"block":"none"}})))};t.a=u,void 0!==u&&u&&u===Object(u)&&Object.isExtensible(u)&&!u.hasOwnProperty("__filemeta")&&Object.defineProperty(u,"__filemeta",{configurable:!0,value:{name:"IOTIconSlider",filename:"components/number/IOTIconSlider/IOTIconSlider.tsx"}})},itii:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return b})),n.d(t,"default",(function(){return v}));var r=n("Fcif"),i=n("+I+c"),a=(n("mXGw"),n("/FXl")),c=n("TjRS"),o=n("yvaY"),l=n("g/3L"),s=n("aD51"),u={type:"number",streamId:"Word",title:"温度",icon:{show:!0,value:"insideicon-cu-1"},disabled:!1,min:"1",max:"10",step:"0.5",unit:"°C",unitdesc:"摄氏度",curValue:"1",startHandler:function(e){},endHandler:function(){},leftIcon:"",rightIcon:"",streamName:""},d=function(){return Object(s.c)(l.a,u)},b={};void 0!==b&&b&&b===Object(b)&&Object.isExtensible(b)&&!b.hasOwnProperty("__filemeta")&&Object.defineProperty(b,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"components/number/IOTIconSlider/index.mdx"}});var m={_frontmatter:b},f=c.a;function v(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(a.b)(f,Object(r.a)({},m,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("h1",{id:"带图标的数值型slider"},"带图标的数值型slider"),Object(a.b)("p",null,"控制区间值。"),Object(a.b)("h2",{id:"代码演示"},"代码演示"),Object(a.b)("h3",{id:"基本用法"},"基本用法"),Object(a.b)(o.a,{code:"import React from 'react';\nimport IOTIconSlider from '../IOTIconSlider';\nimport { IOTIconSliderProps } from '../interface';\n\nconst props: IOTIconSliderProps = {\n  type: 'number',\n  streamId: 'Word',\n  title: '温度',\n  icon: {\n    show: true,\n    value: 'insideicon-cu-1',\n  },\n  disabled: false,\n  min: '1',\n  max: '10',\n  step: '0.5',\n  unit: '°C',\n  unitdesc: '摄氏度',\n  curValue: '1',\n  startHandler: (val: any) => { },\n  endHandler: () => { },\n  leftIcon: '',\n  rightIcon: '',\n  streamName: ''\n};\nexport default () => <IOTIconSlider {...props} />;",title:"基本用法",desc:"使用kind控制Alert类型",mdxType:"CodeBox"},Object(a.b)(d,{mdxType:"BasicDemo"})))}void 0!==v&&v&&v===Object(v)&&Object.isExtensible(v)&&!v.hasOwnProperty("__filemeta")&&Object.defineProperty(v,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"components/number/IOTIconSlider/index.mdx"}}),v.isMDXComponent=!0},"r+c8":function(e,t,n){},sjxt:function(e,t,n){},xbbq:function(e,t,n){"use strict";var r=n("Fcif"),i=n("mXGw"),a=n("z5HR"),c=n("1JkM"),o=(n("sjxt"),n("aD51"));function l(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){var t=e.leftIcon,n=void 0===t?"insideicon-reduce":t,s=e.rightIcon,u=void 0===s?"insideicon-plus":s,d=e.barStyle,b=void 0===d?"line":d,m=e.curValue,f=e.min,v=e.max,O=e.disabled,p=e.onchange,j=e.dotsData,h=e.step,g=e.start,y=e.move,N=e.isStep,x=void 0===N||N,I=e.showHandleBtn,S=void 0===I||I,w=Object(i.useState)(""),_=w[0],P=w[1],T=Object(i.useState)(0),F=T[0],C=T[1],H=Object(i.useRef)(null);Object(i.useEffect)((function(){if(void 0!==m&&"string"==typeof m){if(Number.parseFloat(m)<f)return C(f),void P("0%");if(Number.parseFloat(m)>v)return C(v),void P("100%");var e=(Number.parseFloat(m)-f)*(100/(v-f));P(e+"%")}}),[m,f,v,b]);var E=Object(i.useCallback)((function(e){var t=0;if(x){if(e<=0)e=0,t=f;else if(e>=100)e=100,t=v;else{var n=(v-f)*e/100+f;t=Number.parseInt(n.toString())}}else{var r,i=100/(j.length-1),c=Math.round(e/i)+1;c<1&&(c=1),c>j.length&&(c=j.length),e=null===(r=Object(a.b)(j)[c-1])||void 0===r?void 0:r.left,t=j[c-1].text}y(t),C(t),P(e+"%")}),[j,x,v,f,y]);Object(i.useEffect)((function(){if(!x){if(!(m===F))if(x){if(m<f)return void C(f);if(m>v)return void C(v);P(JSON.stringify(100/(v-f)*(m-f)))}else{for(var e,t,n=0,r=l(j.entries());!(t=r()).done;){var i=t.value,c=i[0],o=i[1];m===JSON.stringify(o.text)&&(n=c)}P((null===(e=Object(a.b)(j)[n])||void 0===e?void 0:e.left)+"%")}}}),[m,f,v,b,x,F,j]);var k=Object(c.a)({start:function(){g()},processHanlder:function(e){E(e)},onchange:function(e){p(e)},currentVal:F,refProgess:H});return Object(o.c)("div",{className:"Slider"},S?Object(o.c)("div",{className:"icon icon-left "+n+" "+(Number.parseFloat(f+"")===Number.parseFloat(m+"")?"icon-disabled":""),onClick:function(){if(!O){var e=0;if(x)e=10*Number(m)-10*h;else{var t=j[j.length-1].text-j[j.length-2].text,n=0!==t?t:h;e=10*Number(m)-10*(Number(m)===j[j.length-1].text?n:h)}p(e/10<f?f:e/10)}}}):Object(o.c)("div",{className:"icon icon-number-left "},f),Object(o.c)("div",{className:"slider-bar"},Object(o.c)("div",{className:"slider-bar-inner",ref:H},Object(o.c)("div",{className:"progress",style:{width:_}},Object(o.c)("div",Object(r.a)({className:"ball"},k))),S&&Object(o.c)("div",{className:"min-max"},Object(o.c)("div",{className:"min"},f),Object(o.c)("div",{className:"max"},v)))),S?Object(o.c)("div",{className:"icon icon-right "+u+"  "+(Number.parseFloat(v+"")===Number.parseFloat(m+"")?"icon-disabled":""),onClick:function(){if(!O){var e=10*Number(m)+10*h;p(e/10>v?v:e/10)}}}):Object(o.c)("div",{className:"icon icon-number-right"},v),O&&Object(o.c)("div",{className:"disabled"}))};t.a=u,void 0!==u&&u&&u===Object(u)&&Object.isExtensible(u)&&!u.hasOwnProperty("__filemeta")&&Object.defineProperty(u,"__filemeta",{configurable:!0,value:{name:"Slider",filename:"components/number/IOTSlider/Slider/Slider.tsx"}})},z5HR:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var r=n("mK0O");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e,t,n){for(var r,i=Number.parseFloat(e),a=Number.parseFloat(t),c=Number.parseFloat(n),o=[],l=a-((r=Math.round((a-i)/c))*c+i),s=0;s<(l<0?r:r+1);s++)o.push({value:s+1,text:(10*c*s+10*i)/10});return 0!==l&&o.push({value:o.length+1,text:a}),o};void 0!==c&&c&&c===Object(c)&&Object.isExtensible(c)&&!c.hasOwnProperty("__filemeta")&&Object.defineProperty(c,"__filemeta",{configurable:!0,value:{name:"dataSource",filename:"components/number/sliderConfig.tsx"}});var o=function(e){var t=[],n=e.length;if(n>0)for(var r=100/(n-1),i=0;i<n;i+=1){var c={icon:""};if(!!e[i].icon&&(c=a(a({},c),{},{icon:e[i].icon})),i===n-1)c=a(a({},c),{},{left:100});else{var o=r*i;c=a(a({},c),{},{left:o})}c=a(a({},c),{},{text:e[i].text,value:e[i].value}),t.push(c)}return t};void 0!==o&&o&&o===Object(o)&&Object.isExtensible(o)&&!o.hasOwnProperty("__filemeta")&&Object.defineProperty(o,"__filemeta",{configurable:!0,value:{name:"dotInfoList",filename:"components/number/sliderConfig.tsx"}})}}]);
//# sourceMappingURL=component---components-number-iot-icon-slider-index-mdx-0b8854cc38899df5219e.js.map