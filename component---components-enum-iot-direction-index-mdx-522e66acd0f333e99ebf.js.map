{"version":3,"sources":["webpack:///../components/enum/IOTDirection/IOTDirection.tsx","webpack:///../components/enum/IOTDirection/demo/1-demo-basic.tsx","webpack:///../components/enum/IOTDirection/index.mdx","webpack:///../components/enum/IOTDirection/demo/1-demo-basic.tsx?806b","webpack:///../components/enum/IOTDirection/static/down.png"],"names":["SliderControl","subTitle","type","streamId","handler","val","clickHandler","rest","controlRef","useRef","useState","setActive","showArrow","setShowArrow","startX","setStartX","startY","setStartY","isTouched","setTouched","hideArrowTimer","endHandle","e","document","documentElement","style","overflow","direction","touches","changedTouches","currentX","clientX","currentY","clientY","diffX","diffY","absDiffX","Math","abs","absDiffY","controlDevice","setTimeout","value","ref","className","onTouchStart","onTouchMove","clearTimeout","onTouchEnd","onTouchCancel","onClick","marginTop","map","item","index","src","Down","key","alt","props","title","show","icon","disabled","IOTDirection","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","code","desc","isMDXComponent","module","exports"],"mappings":"iTAQMA,EAA8C,SAAC,GAO/C,EANJC,SAMI,EALJC,KAKI,IAJJC,EAII,EAJJA,SAII,IAHJC,eAGI,MAHM,SAACC,KAGP,MAFJC,oBAEI,MAFW,SAACD,KAEZ,EADDE,EACC,uEAEEC,EAAkBC,mBAFpB,EAG8BC,mBAAiB,MAH/C,aAIwBA,oBAAkB,IAA/BC,GAJX,aAK8BD,oBAAkB,GAA7CE,EALH,KAKcC,EALd,OAMwBH,mBAAiB,GAAtCI,EANH,KAMWC,EANX,OAOwBL,mBAAiB,GAAtCM,EAPH,KAOWC,EAPX,OAQ4BP,oBAAkB,GAA3CQ,EARH,KAQcC,EARd,KASAC,EAAwC,KAsBtCC,EAAY,SAACC,GAChBC,SAAiBC,gBAAgBC,MAAMC,SAAS,OACjD,IAAIC,EAAY,KACVC,EAAUN,EAAEO,eAAe,GAC3BC,EAAWF,EAAQG,QACnBC,EAAWJ,EAAQK,QAEnBC,EAAQJ,EAAWhB,EACnBqB,EAAQH,EAAWhB,EAEnBoB,EAAWC,KAAKC,IAAIJ,GACpBK,EAAWF,KAAKC,IAAIH,GAEtBjB,IAEAS,EADa,GAAXS,EAAiBG,EACPL,EAAQ,EAAI,QAAU,OAGtBC,EAAQ,EAAI,OAAS,KAGnCtB,GAAa,GACbM,GAAW,GACXqB,EAAcb,IAGhBP,EAAiBqB,YAAW,WAC1B5B,GAAa,GACbF,GAAU,KACT,MAcC6B,EAAgB,SAACb,GAKrBvB,WAJkB,CAChBD,WACAuC,MAAMf,KAMV,OACE,+BACEgB,IAAKnC,EAELoC,UA/FY,gBAgGZC,aA5EgB,SAACvB,GACnB,IAAMM,EAAUN,EAAEO,eAAe,GACjCd,EAAUa,EAAQG,SAClBd,EAAUW,EAAQK,SAClBpB,GAAa,IAyEXiC,YAtEe,WAChBvB,SAAiBC,gBAAgBC,MAAMC,SAAU,SAClDP,GAAW,GACXR,GAAU,GACNC,GACFC,GAAa,GAEXO,GACF2B,aAAa3B,IA+Db4B,WAAY3B,EACZ4B,cAAe5B,EACf6B,QA7BgB,WAClBvC,GAAU,GAIVL,WAHkB,CAChBH,aAGFsC,YAAW,WACT9B,GAAU,KACT,OAsBGJ,GAEJ,wCACA,oBAAMkB,MAAO,CAAE0B,UAAW,WAA1B,mBAEE,CAAC,EAAG,EAAG,EAAG,GAAGC,KAAI,SAACC,EAAMC,GAAP,OACf,mBACEC,IAAKC,IACLC,IAAK,MAAQH,EACbV,UAAS,4BAA6BU,EAAQ,GAC9CI,IAAI,UAWD1D,S,gOC9Hf,IAGM2D,EAA4B,CAChCC,MAAO,OACP3D,SAAU,CAAEyC,MAAO,MAAOmB,MAAM,GAChCC,KAAM,CAAEpB,MAAO,kBAAmBmB,MAAM,GACxCzD,QAPc,SAACC,KAQfC,aAAc,SAAC+C,KACflD,SAAU,YACVD,KAAM,GACN6D,UAAU,GAEG,oBAAM,YAACC,EAAiBL,ICL1BM,EAAe,Q,wNAC5B,IAAMC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGX,EACF,8BACD,OAAO,YAACQ,EAAD,eAAeD,EAAiBP,EAAhC,CAAuCW,WAAYA,EAAYC,QAAQ,cAK5E,kBACE,GAAM,UADR,UAGA,yCACA,kBACE,GAAM,QADR,QAGA,kBACE,GAAM,QADR,QAGA,YAAC,IAAD,CAASC,KCnCE,0fDmCmBZ,MAAM,OAAOa,KAAK,kBAAkBF,QAAQ,WAC5E,YAAC,EAAD,CAAWA,QAAQ,qB,sNAMrBF,EAAWK,gBAAiB,G,0CE1C5BC,EAAOC,QAAU","file":"component---components-enum-iot-direction-index-mdx-522e66acd0f333e99ebf.js","sourcesContent":["import React, { useState, useRef } from 'react';\nimport { iIOTDirectionProps } from './interface';\n// const Down  = require(\"./static/down.png\");\nimport Down from \"./static/down.png\";\n\nimport './style/index.less';\n\nconst prefixCls = 'iot-direction';\nconst SliderControl: React.FC<iIOTDirectionProps> = ({\n  subTitle,\n  type,\n  streamId,\n  handler = (val: any) => { },\n  clickHandler = (val: any) => { },\n  ...rest\n}) => {\n\n  const controlRef: any = useRef();\n  const [direction, setDirection] = useState<string>('up');\n  const [active, setActive] = useState<boolean>(false);\n  const [showArrow, setShowArrow] = useState<boolean>(false);\n  const [startX, setStartX] = useState<number>(0);\n  const [startY, setStartY] = useState<number>(0);\n  const [isTouched, setTouched] = useState<boolean>(false);\n  let hideArrowTimer: NodeJS.Timeout | null = null\n\n\n  const startHandle = (e: any) => {\n    const touches = e.changedTouches[0];\n    setStartX(touches.clientX);\n    setStartY(touches.clientY);\n    setShowArrow(false);\n  }\n\n  const moveHandle = () => {\n    (document as any).documentElement.style.overflow= 'hidden';\n    setTouched(true);\n    setActive(true);\n    if (showArrow) {\n      setShowArrow(false);\n    }\n    if (hideArrowTimer) {\n      clearTimeout(hideArrowTimer);\n    }\n  }\n\n  const endHandle = (e: any) => {\n    (document as any).documentElement.style.overflow='auto';\n    let direction = 'up'\n    const touches = e.changedTouches[0];\n    const currentX = touches.clientX;\n    const currentY = touches.clientY;\n\n    const diffX = currentX - startX;\n    const diffY = currentY - startY;\n\n    const absDiffX = Math.abs(diffX);\n    const absDiffY = Math.abs(diffY);\n\n    if (isTouched) {\n      if (absDiffX * 0.8 > absDiffY) {\n        direction = diffX > 0 ? 'right' : 'left';\n        // setDirection(diffX > 0 ? 'right' : 'left')\n      } else {\n        direction = diffY > 0 ? 'down' : 'up';\n        // setDirection(diffX < 0 ? 'down' : 'up');\n      }\n      setShowArrow(true);\n      setTouched(false);\n      controlDevice(direction);\n    }\n    // 在滑动结束后隐藏滑动箭头;\n    hideArrowTimer = setTimeout(() => {\n      setShowArrow(false);\n      setActive(false);\n    }, 200);\n  }\n\n  const clickHandle = () => {\n    setActive(true);\n    const item: any = {\n      streamId\n    };\n    clickHandler?.(item);\n    setTimeout(() => {\n      setActive(false);\n    }, 600);\n  }\n\n  const controlDevice = (direction: string) => {\n    const item: any = {\n      streamId,\n      value:direction,\n    };\n    handler?.(item);\n\n  }\n\n  return (\n    <div\n      ref={controlRef}\n      // className={`slider-control ${active ? 'active' : ''}`}\n      className={prefixCls}\n      onTouchStart={startHandle}\n      onTouchMove={moveHandle}\n      onTouchEnd={endHandle}\n      onTouchCancel={endHandle}\n      onClick={clickHandle}\n      {...rest}\n    >\n      <span>朝箭头方向滑动可调节方向</span>\n      <span style={{ marginTop: '.08rem' }}>点击中间区域可确定/播放/暂停</span>\n      {\n        [1, 2, 3, 4].map((item, index) => (\n          <img\n            src={Down}\n            key={'img' + index}\n            className={`control-img control-img-${index + 1}`}\n            alt=\"\"\n          />\n        ))\n      }\n      {/* {\n        showArrow &&  <img className={`slide-control-img-${direction}`} src={slideUp} alt=\"\" />\n      } */}\n    </div>\n  )\n}\n\nexport default SliderControl;","import React from 'react';\nimport IOTDirection from '../IOTDirection';\nimport { iIOTDirectionProps } from '../interface';\nconst handler = (val: any) => {\n  // console.log(val);\n}\nconst props: iIOTDirectionProps = {\n  title: '功能名称',\n  subTitle: { value: '副标题', show: true },\n  icon: { value: 'insideicon-cu-1', show: true },\n  handler: handler,\n  clickHandler: (item: any) => { },\n  streamId: 'Operation',\n  type: '',\n  disabled: false\n};\nexport default () => <IOTDirection {...props} />;","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/fengyanwei/Downloads/Git/iot-ui/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nimport { CodeBox } from '../../doc-comps/code-box';\nimport BasicDemo from './demo/1-demo-basic';\nimport BasicDemoCode from '!raw-loader!./demo/1-demo-basic.tsx';\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n\n    <h1 {...{\n      \"id\": \"方向控制组件\"\n    }}>{`方向控制组件`}</h1>\n    <p>{`方向控制 支持上下左右滑动控制。`}</p>\n    <h2 {...{\n      \"id\": \"代码演示\"\n    }}>{`代码演示`}</h2>\n    <h3 {...{\n      \"id\": \"基本用法\"\n    }}>{`基本用法`}</h3>\n    <CodeBox code={BasicDemoCode} title=\"基本用法\" desc=\"使用kind控制Alert类型\" mdxType=\"CodeBox\">\n  <BasicDemo mdxType=\"BasicDemo\" />\n    </CodeBox>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","export default \"import React from 'react';\\nimport IOTDirection from '../IOTDirection';\\nimport { iIOTDirectionProps } from '../interface';\\nconst handler = (val: any) => {\\n  // console.log(val);\\n}\\nconst props: iIOTDirectionProps = {\\n  title: '功能名称',\\n  subTitle: { value: '副标题', show: true },\\n  icon: { value: 'insideicon-cu-1', show: true },\\n  handler: handler,\\n  clickHandler: (item: any) => { },\\n  streamId: 'Operation',\\n  type: '',\\n  disabled: false\\n};\\nexport default () => <IOTDirection {...props} />;\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAetJREFUaAXtl0FKA0EQRasMKiiIQlYxO0GvEDe5g7oSF4mCXsRbKEQRxHMEFL2CAXfGleDKhQFpu5vMUMSImeqaQfBnM5UhVb/+m6Q/IcILBEAABEAABEAABEAABEAABEAABEAABEAABEAABP4SAdYu4zqNvu9ta/sT+27pcthmZld0zlzRhvzzTPW8rrzgVY3ZsKbe8DzvEPFb5V6D5gLtaXXVhvl8OKC5aHqkFS/ex6OgGbWLN8cOteHQzRfPfarRsVK7eJvXiprFO/OOJMNhCveGV8R8mk8sq/AaUStxvvqUlrrOOabu+rW/ty/vG9Y3/lQ+0B5Uco/kJxyGxUVWlg6J6U4ON6nDTD/bwmzc1WSp8RB3slmnj/cHIrdhM5efaHG5xWeDV5t5/uFYDcrmuKPGFn3yvTe9lt3TXWP8tFJO5Gm6Jl9pOZh7L4/pcZUeP3InWZsbDsOT48ogfqRJWZdiOJrWxpVR/EiTsjb/Dcvhirgyix+5h6xLe8JBpFBcGcePNCnrUp9wJvR7XNnHT6Y9ea3EcBD9Oa58/NTcdjzdJ7cr4X2pX2m57/S4GsdPiLKKXpUZDn6+xVWJ8VMRv9lkXLe56zpN9Z/42VTwKRAAARAAARAAARAAARAAARAAARAAARD4LwS+AMg9ejWonKNkAAAAAElFTkSuQmCC\""],"sourceRoot":""}